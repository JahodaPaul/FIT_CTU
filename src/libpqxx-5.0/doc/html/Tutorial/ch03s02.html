<?xml version="1.0" encoding="ANSI_X3.4-1968" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=ANSI_X3.4-1968" /><title>Setting up a connection</title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="libpqxx tutorial" /><link rel="up" href="ch03.html" title="Chapter&#160;3.&#160;Tutorial" /><link rel="prev" href="ch03.html" title="Chapter&#160;3.&#160;Tutorial" /><link rel="next" href="ch03s03.html" title="Performing a transaction" /></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Setting up a connection</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch03.html">Prev</a>&#160;</td><th width="60%" align="center">Chapter&#160;3.&#160;Tutorial</th><td width="20%" align="right">&#160;<a accesskey="n" href="ch03s03.html">Next</a></td></tr></table><hr /></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="connectionsetup"></a>Setting up a connection</h2></div></div></div><p>
	The very first thing to do before we can begin working with a
	database, is actually connect to one.  We do this by creating a
	<code class="literal">connection</code> object that will serve as our "handle"
	on the connection:
      </p><pre class="programlisting">
	connection Conn("dbname=test");
      </pre><p>
        This gives us a connection object called <code class="literal">Conn</code>.
      </p><p>
	The <code class="literal">connection</code> constructor here takes one argument,
	the "connect string."  This string may be used to specify which host
	on the network runs the database backend we wish to connect to, which
	database we're interested in, which user name we'll be using to log
	in, etc.  Refer to the libpq <code class="function">connect</code> call for a
	complete definition of what may go into the connect string.  In this
	case we're connecting to a database <code class="literal">test</code> residing
	on the local machine.  By default the client will try to connect to a
        server running on the local machine.
      </p><p>
	If no connection could be established, the <code class="literal">connection</code>
	constructor may throw an exception immediately; or it may decide to
	retry the connection later in case the problem is only temporary.  In
	the latter case, an exception may occur at some later point if the
	problem turns out not to be so temporary after all.
      </p><p>
	The <code class="literal">connection</code> can now act as a "service counter"
	for our database; your client will use it to perform one or more
	transactions related to the database.
      </p><p>
	Connections cannot be copied or assigned.  Any attempt to do so will
	be met with a compiler error.
      </p><div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Caution</h3><p>
	  As a matter of design, <span class="productname">libpqxx</span>&#8482; will not
	  allow you to perform queries on the <code class="literal">connection</code>
	  directly.  You will need to open a transaction instead.
	</p><p>
	  See the section on transactions below.
	</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch03.html">Prev</a>&#160;</td><td width="20%" align="center"><a accesskey="u" href="ch03.html">Up</a></td><td width="40%" align="right">&#160;<a accesskey="n" href="ch03s03.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Chapter&#160;3.&#160;Tutorial&#160;</td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top">&#160;Performing a transaction</td></tr></table></div></body></html>