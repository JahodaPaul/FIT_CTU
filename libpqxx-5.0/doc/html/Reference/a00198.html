<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>libpqxx: Transaction classes</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">libpqxx
   &#160;<span id="projectnumber">5.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('a00198.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#typedef-members">Typedefs</a>  </div>
  <div class="headertitle">
<div class="title">Transaction classes</div>  </div>
</div><!--header-->
<div class="contents">

<p>Abstract base class responsible for bracketing a backend transaction.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00014.html">pqxx::basic_robusttransaction</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00080.html">pqxx::robusttransaction&lt; ISOLATIONLEVEL &gt;</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Slightly slower, better-fortified version of transaction.  <a href="a00080.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00015.html">pqxx::basic_transaction</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00101.html">pqxx::transaction&lt; ISOLATIONLEVEL, READWRITE &gt;</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Standard back-end transaction, templatized on isolation level.  <a href="a00101.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga82685329d6fd91f5ab30772d266fe5f0"><td class="memItemLeft" align="right" valign="top">typedef transaction&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00198.html#ga82685329d6fd91f5ab30772d266fe5f0">pqxx::work</a></td></tr>
<tr class="memdesc:ga82685329d6fd91f5ab30772d266fe5f0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Bog-standard, default transaction type.  <a href="#ga82685329d6fd91f5ab30772d266fe5f0">More...</a><br/></td></tr>
<tr class="separator:ga82685329d6fd91f5ab30772d266fe5f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab81d0f16865bb70a79d4acb0d0657259"><td class="memItemLeft" align="right" valign="top">typedef transaction<br class="typebreak"/>
&lt; read_committed, read_only &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00198.html#gab81d0f16865bb70a79d4acb0d0657259">pqxx::read_transaction</a></td></tr>
<tr class="memdesc:gab81d0f16865bb70a79d4acb0d0657259"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read-only transaction.  <a href="#gab81d0f16865bb70a79d4acb0d0657259">More...</a><br/></td></tr>
<tr class="separator:gab81d0f16865bb70a79d4acb0d0657259"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Abstract base class responsible for bracketing a backend transaction. </p>
<p>Interface definition (and common code) for "transaction" classes.</p>
<p>Simple "transaction" class offering no transactional integrity.</p>
<p>Use a dbtransaction-derived object such as "work" (transaction&lt;&gt;) to enclose operations on a database in a single "unit of work." This ensures that the whole series of operations either succeeds as a whole or fails completely. In no case will it leave half-finished work behind in the database.</p>
<p>Once processing on a transaction has succeeded and any changes should be allowed to become permanent in the database, call commit(). If something has gone wrong and the changes should be forgotten, call abort() instead. If you do neither, an implicit abort() is executed at destruction time.</p>
<p>It is an error to abort a transaction that has already been committed, or to commit a transaction that has already been aborted. Aborting an already aborted transaction or committing an already committed one has been allowed to make errors easier to deal with. Repeated aborts or commits have no effect after the first one.</p>
<p>Database transactions are not suitable for guarding long-running processes. If your transaction code becomes too long or too complex, please consider ways to break it up into smaller ones. There's no easy, general way to do this since application-specific considerations become important at this point.</p>
<p>The actual operations for beginning and committing/aborting the backend transaction are implemented by a derived class. The implementing concrete class must also call Begin() and End() from its constructors and destructors, respectively, and implement do_exec().</p>
<p>nontransaction, like transaction or any other transaction_base-derived class, provides access to a database through a connection. Unlike its siblings, however, nontransaction does not maintain any kind of transactional integrity. This may be useful eg. for read-only access to the database that does not require a consistent, atomic view on its data; or for operations that are not allowed within a backend transaction, such as creating tables.</p>
<p>For queries that update the database, however, a real transaction is likely to be faster unless the transaction consists of only a single record update.</p>
<p>Also, you can keep a nontransaction open for as long as you like. Actual back-end transactions are limited in lifespan, and will sometimes fail just because they took too long to execute or were left idle for too long. This will not happen with a nontransaction (although the connection may still time out, e.g. when the network is unavailable for a very long time).</p>
<p>Any query executed in a nontransaction is committed immediately, and neither commit() nor abort() has any effect.</p>
<p>Database features that require a backend transaction, such as cursors or large objects, will not work in a nontransaction.</p>
<p>All database access must be channeled through one of these classes for safety, although not all implementations of this interface need to provide full transactional integrity.</p>
<p>Several implementations of this interface are shipped with libpqxx, including the plain transaction class, the entirely unprotected nontransaction, and the more cautions robusttransaction. </p>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="gab81d0f16865bb70a79d4acb0d0657259"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef transaction&lt;read_committed, read_only&gt; <a class="el" href="a00198.html#gab81d0f16865bb70a79d4acb0d0657259">pqxx::read_transaction</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read-only transaction. </p>

</div>
</div>
<a class="anchor" id="ga82685329d6fd91f5ab30772d266fe5f0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef transaction <a class="el" href="a00198.html#ga82685329d6fd91f5ab30772d266fe5f0">pqxx::work</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Bog-standard, default transaction type. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Fri May 22 2015 01:14:25 for libpqxx by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
